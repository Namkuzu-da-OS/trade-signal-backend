# TradeSignal AI - API Reference

The TradeSignal AI backend exposes a RESTful API for retrieving technical analysis, market data, and trading signals.

## Base URL
`http://localhost:3001` (Default)

## Endpoints

### 1. Market Scan & Analysis
Performs a full technical analysis scan on a specified asset.

- **Endpoint:** `/api/scan`
- **Method:** `GET`
- **Query Parameters:**
  - `symbol` (string, optional): The ticker symbol to analyze (e.g., `SPY`, `NVDA`, `BTC-USD`). Defaults to `SPY`.
  - `interval` (string, optional): Timeframe (`15m`, `1h`, `1d`, `1wk`). Defaults to `1d`.

#### Request Example
```bash
curl "http://localhost:3001/api/scan?symbol=NVDA&interval=15m"
```

### 2. Batch Scan
Scans multiple symbols at once.

- **Endpoint:** `/api/scan/batch`
- **Method:** `POST`
- **Body:** `{ "symbols": ["SPY", "QQQ"], "interval": "15m" }`

### 3. Live Alerts
Retrieves the latest high-probability alerts generated by the automation engine.

- **Endpoint:** `/api/alerts`
- **Method:** `GET`

#### Response Example
```json
[
  {
    "id": 1,
    "symbol": "NVDA",
    "strategy": "Golden Setup",
    "score": 92,
    "signal": "BUY",
    "ai_analysis": "...",
    "timestamp": "2024-11-25T14:30:00Z"
  }
]
```

### 4. On-Demand AI Analysis
Triggers Google Gemini to analyze a specific alert.

- **Endpoint:** `/api/alerts/:id/analyze`
- **Method:** `POST`

### 5. Automation Control
Manage the background scanning engine.

- **Start:** `POST /api/auto/start` (Body: `{ "interval": 15 }`)
- **Stop:** `POST /api/auto/stop`
- **Status:** `GET /api/auto/status`

### 6. Health Check
Verifies that the API server is running and responsive.

- **Endpoint:** `/api/health`
- **Method:** `GET`

#### Request Example
```bash
curl "http://localhost:3001/api/health"
```

#### Response Example
```json
{
  "status": "ok",
  "timestamp": "2025-11-23T14:00:00.000Z"
}
```

## Integration Guide
To use this API in another system:
1. Ensure the backend server is running (`npm start`).
2. Make HTTP GET requests to the endpoints above.
3. The server supports CORS, so it can be called from frontend applications hosted on different domains.
