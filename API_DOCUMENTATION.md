# TradeSignal AI - API Documentation

## Overview
This API provides algorithmic trading signals, market analysis, and automated scanning capabilities. It powers the TradeSignal Dashboard.

## Base URL
`http://localhost:3001`

## Authentication
Currently, the API is open for local development. Future versions may implement API Key authentication.

## Endpoints

### Scanning & Analysis

#### `GET /api/scan`
**Summary**: Perform a technical analysis scan for a specific symbol and interval.
- **Query Parameters**:
  - `symbol` (string, default: 'SPY'): The ticker symbol to scan.
  - `interval` (string, default: '1d'): Timeframe ('15m', '1h', '1d', '1wk').
- **Returns**: Comprehensive analysis object including indicators, strategy scores, and trade setups.

#### `GET /api/scan/signals/live/{symbol}`
**Summary**: Get detailed live signal data for a symbol.
- **Description**: Performs a real-time 15m scan to calculate Session Phase, VWAP, and Intraday Signals, merging with stored 1H/1D data.
- **Path Parameters**:
  - `symbol` (string): The ticker symbol.
- **Returns**:
  ```json
  {
    "symbol": "SPY",
    "final_signal": "WATCH SQUEEZE",
    "final_score": 75,
    "session_phase": "OPENING_DRIVE",
    "vwap": 450.25,
    "vah": 452.10,
    "val": 448.50,
    "entry_price": 451.00,
    "stop_loss": 449.00,
    "target_price": 455.00,
    "score_15m": 75,
    "signal_15m": "WATCH SQUEEZE",
    "top_strategy_15m": "Volatility Squeeze",
    "score_1h": 60,
    "score_1d": 80,
    "ai_analysis": "..."
  }
  ```

### Market Status

#### `GET /api/scan/market/status`
**Summary**: Get current price and change for key market indices (SPY, QQQ, VIX, BTC).

### Automation

#### `GET /api/auto/status`
**Summary**: Get the status of the automated background scanner.

#### `POST /api/auto/start`
**Summary**: Start the automated scanner.
- **Body**: `{ "intervalMinutes": 15 }`

#### `POST /api/auto/stop`
**Summary**: Stop the automated scanner.

#### `GET /api/auto/logs`
**Summary**: Get recent activity logs from the automation engine.

### Signals & Alerts

#### `GET /api/signals/live`
**Summary**: Get all currently active signals stored in the database.

#### `GET /api/alerts`
**Summary**: Get recent alerts generated by the system.

## Swagger UI
Interactive API documentation is available at:
`http://localhost:3001/api-docs`
